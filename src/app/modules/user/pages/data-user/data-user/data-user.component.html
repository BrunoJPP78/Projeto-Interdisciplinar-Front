<basic-page title="Dados do Usuário">
    <ng-container contentTitle>
        <button routerLink="/user" mat-raised-button color="primary">Voltar</button>
      </ng-container>
  
    <ng-container advancedFilter>
      <div [formGroup]="filterForm">
        <mat-form-field>
          <mat-label>Name</mat-label>
          <input matInput formControlName="name" />
        </mat-form-field>
      </div>
    </ng-container>
  
    <table mat-table [dataSource]="usuarios" class="mat-elevation-z8">

      <ng-container matColumnDef="login">
        <th mat-header-cell *matHeaderCellDef>Login</th>
        <td mat-cell *matCellDef="let element">{{ element.username }}</td>
      </ng-container>

      <ng-container matColumnDef="nome">
        <th mat-header-cell *matHeaderCellDef>Nome</th>
        <td mat-cell *matCellDef="let element">{{ element.first_name + " " + element.last_name}}</td>
      </ng-container>
      
      <!-- <ng-container matColumnDef="sobrenome">
        <th mat-header-cell *matHeaderCellDef>Sobrenome</th>
        <td mat-cell *matCellDef="let element">{{ element.last_name }}</td>
      </ng-container> -->

      <ng-container matColumnDef="cpf">
        <th mat-header-cell *matHeaderCellDef>CPF</th>
        <td mat-cell *matCellDef="let element">{{ element.cpf }}</td>
      </ng-container>

      <ng-container matColumnDef="data_de_nascimento">
        <th mat-header-cell *matHeaderCellDef>Data de Nascimento</th>
        <td mat-cell *matCellDef="let element">{{ element.data_de_nascimento }}</td>
      </ng-container>

      <ng-container matColumnDef="telefone">
        <th mat-header-cell *matHeaderCellDef>Telefone</th>
        <td mat-cell *matCellDef="let element">{{ element.telefone }}</td>
      </ng-container>
  
      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef>E-mail</th>
        <td mat-cell *matCellDef="let element">{{ element.email }}</td>
      </ng-container>
  
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
    <br>

    <!-- TABELA ATRIBUIÇÕES -->
    <table mat-table [dataSource]="atribuicoes" class="mat-elevation-z8">
  
        <ng-container matColumnDef="departamento">
          <th mat-header-cell *matHeaderCellDef>Departamento</th>
          <td mat-cell *matCellDef="let element">{{ element.departamento }}</td>
        </ng-container>
  
        <ng-container matColumnDef="cargo">
          <th mat-header-cell *matHeaderCellDef>Cargo</th>
          <td mat-cell *matCellDef="let element">{{ element.cargo_nome }}</td>
        </ng-container>
        
        <ng-container matColumnDef="funcao">
          <th mat-header-cell *matHeaderCellDef>Função</th>
          <td mat-cell *matCellDef="let element">{{ element.funcao_nome }}</td>
        </ng-container>
  
        <ng-container matColumnDef="unidade">
          <th mat-header-cell *matHeaderCellDef>Unidade</th>
          <td mat-cell *matCellDef="let element">{{ element.unidade_nome }}</td>
        </ng-container>
  
        <ng-container matColumnDef="perfil">
          <th mat-header-cell *matHeaderCellDef>Perfil</th>
          <td mat-cell *matCellDef="let element">{{ element.perfil_nome }}</td>
        </ng-container>
    
        <tr mat-header-row *matHeaderRowDef="displayedColumnsAtribuicao"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumnsAtribuicao"></tr>
      </table>
  </basic-page>
  